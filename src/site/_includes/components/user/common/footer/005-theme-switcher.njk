<aside id="floating-control">
    <!-- Add social media icons -->
    <!--
    <a href="https://www.facebook.com/Naturewithniall"><i class="svg-icon" icon-name="facebook" aria-hidden="true"></i></a>
    <a href="https://www.twitter.com/naturewithniall"><i class="svg-icon" icon-name="twitter" aria-hidden="true"></i></a>
    <a href="https://www.instagram.com/naturewithniall"><i class="svg-icon" icon-name="instagram" aria-hidden="true"></i></a>
    <a href="https://www.youtube.com/@naturewithniall" target="_blank"><i class="svg-icon" icon-name="youtube" aria-hidden="true"></i></a>
    -->
    <a  id="totop" href="#top"><i class="svg-icon" data-lucide="square-arrow-up" aria-hidden="true"></i></a>
    <a  id="emailme" href="mailto:niall@niallbell.com?subject=Let's chat about {{title}}&body=Hi, can we chat about {{meta.siteBaseUrl}}{{permalink}}"><i  icon-name="mail-plus" title="Discuss" aria-hidden="true"></i></a>
    <span id="theme-switch">
        <i class="svg-icon light" icon-name="sun" aria-hidden="true"></i>
        <i class="svg-icon dark" icon-name="moon" aria-hidden="true"></i>
        <i class="svg-icon auto" icon-name="sun-moon" aria-hidden="true"></i>
    </span>
    <!-- Add return to top icon -->
    
</aside>


<!-- Add a wrapper for the footer -->
<div class="footer-wrapper">
    <!-- Add copyright note -->
    <footer>
        <p>&copy; 2024 Niall Bell.</p>
    </footer>
</div>

<script>
    function setThemeIcon(theme) {
        let toAdd;
        switch (theme) {
            case 'dark':
                toRemove = ['auto', 'light'];
                break;
            case 'light':
                toAdd = 'fa-adjust';
                toRemove = ['dark', 'auto'];
                break;
            default:
                toRemove = ['light', 'dark'];
                break;
        }
        document.getElementById('theme-switch').classList.add(theme);
        document.getElementById('theme-switch').classList.remove(...toRemove);
    }
    function setTheme(theme, setIcon) {
        if (setIcon) {
            setThemeIcon(theme);
        }
        if (theme == 'dark') {
            document.body.classList.remove('theme-light');
            document.body.classList.add('theme-dark');
        } else if (theme == "light") {
            document.body.classList.add('theme-light');
            document.body.classList.remove('theme-dark');
        } else {
            theme = (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) ? 'dark' : 'light';
            setTheme(theme, false);
        }
        
    }
    let theme = window.localStorage.getItem('site-theme') || "dark";
    setTheme(theme, true);
    window.theme = theme;
    window.localStorage.setItem('site-theme', theme);

    window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', function(event) {
        const settings = window.localStorage.getItem('site-theme');
        if (!settings || settings == "auto") {
            window.localStorage.setItem('site-theme', "auto");
            setTheme("auto", true);
        }
    });
    document.getElementById('theme-switch').addEventListener('click', function() {
        let theme;
        if (window.theme == 'auto') {
            theme = "dark";
        } else if (window.theme == 'dark') {
            theme = 'light'
        } else {
            theme = 'auto';
        }
        setTheme(theme, true);
        window.localStorage.setItem('site-theme', theme);
        window.theme = theme;
    })
</script>

<!-- Modify the following CSS in your stylesheet -->
<style>
    .footer-wrapper {
        position: fixed;
        color: var(--link-color);
        bottom: 1vmax;
        left: 1vmax;
        font-size: 12px;
        z-index: 999999;
        display: flex;
        flex-direction: row;
        justify-content: flex-end;
        gap: 10px;
        padding-bottom: 5px;
    }
</style>
