<script>
    document.addEventListener("DOMContentLoaded", function() {
        console.log("Script is running");

        // Filter function
        window.filterTable = function() {
            console.log("Filter function called");
            var filter = document.getElementById("tagFilter").value.toLowerCase();
            console.log("Selected filter:", filter);
            var rows = document.querySelectorAll("#dataTable tbody tr");
            console.log("Number of rows:", rows.length);

            rows.forEach(row => {
                var tagsCell = row.querySelector("td:last-child");
                if (tagsCell) {
                    var tags = Array.from(tagsCell.querySelectorAll("a.tag")).map(tag => tag.textContent.replace("#", "").toLowerCase());
                    console.log("Row tags:", tags);
                    if (filter === "all" || tags.includes(filter)) {
                        row.classList.remove("hidden");
                        console.log("Row shown");
                    } else {
                        row.classList.add("hidden");
                        console.log("Row hidden");
                    }
                } else {
                    console.log("No tags cell found for row:", row);
                }
            });
        };

        // Attach filter function to the dropdown
        document.getElementById("tagFilter").addEventListener("change", filterTable);
    });
</script>


<style>
    .hidden { display: none; }
</style>
