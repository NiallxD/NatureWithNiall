<script>
document.addEventListener('DOMContentLoaded', () => {
    console.log('DOM fully loaded and parsed');
    const panoramas = document.querySelectorAll('.panorama');

    if (panoramas.length) {
        console.log(`${panoramas.length} panorama elements found`);
        
        panoramas.forEach((panorama) => {
            const contentBlock = panorama.closest('.content-block');
            
            if (contentBlock) {
                contentBlock.addEventListener('mouseenter', () => {
                    panorama.style.transform = 'scale(1.5)'; /* Adjust the scale as needed */
                });

                contentBlock.addEventListener('mousemove', (e) => {
                    const { left, top, width, height } = contentBlock.getBoundingClientRect();
                    const x = ((e.clientX - left) / width) * 100;
                    const y = ((e.clientY - top) / height) * 100;
                    panorama.style.transformOrigin = `${x}% ${y}%`;
                });

                contentBlock.addEventListener('mouseleave', () => {
                    panorama.style.transform = 'scale(1)'; /* Reset the scale when the mouse leaves */
                });
            } else {
                console.error('Content block element not found for a panorama image');
            }
        });
    } else {
        console.error('No panorama elements found');
    }
});
</script>
